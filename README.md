# AI ArtStyle Lab

AI ArtStyle Lab æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„AIè‰ºæœ¯åˆ›ä½œä¸ç®¡ç†å¹³å°ï¼Œä¸“ä¸ºè‰ºæœ¯çˆ±å¥½è€…å’Œå­¦ç”Ÿè®¾è®¡ã€‚ç³»ç»Ÿé›†æˆäº†ç«å±±å¼•æ“ Seedream 4.5 AI å›¾åƒç”ŸæˆæœåŠ¡ï¼Œæ”¯æŒå¤šç»´åº¦æç¤ºè¯æ„å»ºã€ä½œå“ä¸Šä¼ ç®¡ç†ã€ä¸ªäººç”»å»Šç­‰åŠŸèƒ½ã€‚

## ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [API æ–‡æ¡£](#api-æ–‡æ¡£)
- [ç”¨æˆ·æƒé™](#ç”¨æˆ·æƒé™)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | æè¿° |
|------|------|
| ğŸ–¼ï¸ **ä½œå“ç”»å»Š** | æµè§ˆæ‰€æœ‰ä¸Šä¼ çš„è‰ºæœ¯ä½œå“ï¼Œæ”¯æŒæœç´¢å’Œç­›é€‰ |
| ğŸ¤– **AI è‰ºæœ¯åˆ›ä½œ** | å››ç»´åº¦æç¤ºè¯æ„å»ºï¼ˆä¸»ä½“ã€èƒŒæ™¯ã€é£æ ¼ã€è¡¥å……ï¼‰ï¼Œä¸€é”®ç”Ÿæˆ AI è‰ºæœ¯ |
| ğŸ“¤ **ä½œå“ä¸Šä¼ ** | æ”¯æŒæœ¬åœ°ä¸Šä¼ å’Œ AI ç”Ÿæˆä½œå“ä¿å­˜åˆ°å›¾åº“ |
| ğŸ‘¤ **ä¸ªäººä¸­å¿ƒ** | ç®¡ç†ä¸ªäººä¿¡æ¯ã€æŸ¥çœ‹å’Œç¼–è¾‘è‡ªå·±çš„ä½œå“ |
| ğŸ­ **å±•è§ˆç³»ç»Ÿ** | åˆ›å»ºå’Œç®¡ç†ä¸»é¢˜å±•è§ˆï¼Œæ”¯æŒå¤šç­çº§è”åˆå±•è§ˆ |
| ğŸ‘¨â€ğŸ« **ç­çº§ç®¡ç†** | æ•™å¸ˆå¯åˆ›å»ºç­çº§ã€ç®¡ç†å­¦ç”Ÿ |
| ğŸ” **ç”¨æˆ·è®¤è¯** | å­¦ç”Ÿ/æ•™å¸ˆ/ç®¡ç†å‘˜ä¸‰çº§æƒé™ç³»ç»Ÿï¼Œæ”¯æŒEnteré”®ç™»å½• |
| ğŸŒŸ **æ²‰æµ¸æ¨¡å¼** | å…¨å±å¹»ç¯ç‰‡å¼ä½œå“æµè§ˆä½“éªŒ |

### ç‰¹è‰²åŠŸèƒ½

- **æ™ºèƒ½æç¤ºè¯å»ºè®®** - å†…ç½®å¸¸ç”¨è‰ºæœ¯é£æ ¼å’Œå…ƒç´ é¢„è®¾ï¼ˆä¸­æ–‡ï¼‰
- **å¤šç”»å¹…æ¯”ä¾‹æ”¯æŒ** - 1:1 æ­£æ–¹å½¢ã€16:9 æ¨ªç‰ˆã€9:16 ç«–ç‰ˆ
- **ä½œå“çŠ¶æ€ç®¡ç†** - ä½œå“å¯é€‰æ‹©æ˜¯å¦å±•ç¤ºåœ¨å…¬å…±ç”»å»Š
- **å†å²è®°å½•ç®¡ç†** - æœ¬åœ°å­˜å‚¨ç”¨æˆ·ä¸“å±çš„å†å²ä½œå“ï¼Œåªæ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„ä½œå“
- **æ‹–æ‹½ä¸Šä¼ ** - æ”¯æŒæ‹–æ‹½æ–‡ä»¶ä¸Šä¼ 
- **å“åº”å¼è®¾è®¡** - é€‚é…å„ç§å±å¹•å°ºå¯¸
- **å›¾ç‰‡ä¸‹è½½åŠŸèƒ½** - æ”¯æŒå°†ä½œå“ä¸‹è½½åˆ°æœ¬åœ°ï¼Œæ–‡ä»¶åè‡ªåŠ¨å‘½åä¸ºæç¤ºè¯+æ—¶é—´æˆ³
- **ä½œå“åˆ†ç±»** - ä¸ªäººä½œå“åˆ†ä¸ºå…¨éƒ¨ä½œå“ã€å·²åœ¨ç”»å»Šå±•ç¤ºã€éšè—ä½œå“ä¸‰ç±»

## æŠ€æœ¯æ ˆ

### åç«¯
- **è¿è¡Œæ—¶**: Node.js (ES Modules) 18+
- **æ¡†æ¶**: Express.js 5.x
- **æ–‡ä»¶ä¸Šä¼ **: Multer 2.x
- **æ•°æ®åº“**: SQLite (better-sqlite3)
- **è·¨åŸŸæ”¯æŒ**: CORS

### å‰ç«¯
- **æ„å»ºå·¥å…·**: Vite 7.x
- **JavaScript**: ES6+ (åŸç”Ÿï¼Œæ— æ¡†æ¶)
- **æ ·å¼**: CSS3 (åŸç”Ÿ)
- **æ¨¡å—åŒ–**: æœåŠ¡å±‚æ¶æ„ (Services)

### AI æœåŠ¡
- **æä¾›å•†**: ç«å±±å¼•æ“ (Volcengine)
- **æ¨¡å‹**: Seedream 4.5
- **åŠŸèƒ½**: æ–‡ç”Ÿå›¾ã€å›¾ç”Ÿå›¾

## é¡¹ç›®ç»“æ„

```
AI_ArtStyle_Lab/
â”œâ”€â”€ server.js                 # Express æœåŠ¡å™¨ä¸»æ–‡ä»¶ï¼ˆè·¯ç”±ç»„è£…ï¼‰
â”œâ”€â”€ index.html                # ä¸»é¡µï¼ˆç”»å»Šã€ä¸ªäººä¸­å¿ƒã€å±•è§ˆï¼‰
â”œâ”€â”€ create.html               # AI åˆ›ä½œé¡µé¢
â”œâ”€â”€ upload.html               # ä½œå“ä¸Šä¼ é¡µé¢
â”œâ”€â”€ package.json              # é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ .env                      # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ start.bat                 # ä¸€é”®å¯åŠ¨è„šæœ¬ï¼ˆWindowsï¼‰
â”‚
â”œâ”€â”€ server/                   # åç«¯æ¨¡å—
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ artstyle.db      # SQLite æ•°æ®åº“ï¼ˆè¿è¡Œæ—¶ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.js          # è®¤è¯è·¯ç”±ï¼ˆç™»å½•/æ³¨å†Œï¼‰
â”‚   â”‚   â”œâ”€â”€ user.js          # ç”¨æˆ·è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ artwork.js       # ä½œå“è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ exhibition.js    # å±•è§ˆè·¯ç”±
â”‚   â”‚   â””â”€â”€ ai.js            # AI ç”Ÿæˆè·¯ç”±
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ db.js            # æ•°æ®åº“å·¥å…·æ¨¡å—
â”‚       â””â”€â”€ init-db.js       # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚
â”œâ”€â”€ src/                      # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ main.js              # ä¸»åº”ç”¨é€»è¾‘
â”‚   â”œâ”€â”€ create.js            # AI åˆ›ä½œé¡µé¢é€»è¾‘
â”‚   â”œâ”€â”€ upload.js            # ä¸Šä¼ é¡µé¢é€»è¾‘
â”‚   â”œâ”€â”€ device-detect.js     # è®¾å¤‡æ£€æµ‹æ¨¡å—
â”‚   â”œâ”€â”€ responsive.css       # å“åº”å¼é€‚é…æ ·å¼
â”‚   â”‚
â”‚   â”œâ”€â”€ services/            # æœåŠ¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ authService.js   # ç”¨æˆ·è®¤è¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ galleryService.js# ç”»å»Šç®¡ç†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ aiService.js     # AI å›¾åƒç”ŸæˆæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ exhibitionService.js # å±•è§ˆæœåŠ¡
â”‚   â”‚   â””â”€â”€ studentService.js# å­¦ç”Ÿç®¡ç†æœåŠ¡
â”‚   â”‚
â”‚   â””â”€â”€ utils/               # å·¥å…·æ¨¡å—
â”‚       â”œâ”€â”€ apiClient.js     # API è¯·æ±‚å®¢æˆ·ç«¯
â”‚       â”œâ”€â”€ modal.js         # æ¨¡æ€æ¡†å·¥å…·
â”‚       â”œâ”€â”€ progressBar.js   # è¿›åº¦æ¡å·¥å…·
â”‚       â”œâ”€â”€ validation.js    # è¾“å…¥éªŒè¯å·¥å…·
â”‚       â””â”€â”€ cursor.js        # å…‰æ ‡æ•ˆæœå·¥å…·
â”‚
â”œâ”€â”€ public/                  # é™æ€èµ„æº
â”‚   â”œâ”€â”€ uploads/             # ç”¨æˆ·ä¸Šä¼ çš„ä½œå“å›¾ç‰‡
â”‚   â””â”€â”€ images/              # é»˜è®¤å›¾ç‰‡èµ„æº
â”‚
â””â”€â”€ dist/                    # æ„å»ºè¾“å‡ºç›®å½•
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- npm æˆ– yarn

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®
cd AI_ArtStyle_Lab

# 2. å®‰è£…ä¾èµ–
npm install

# 3. é…ç½®ç¯å¢ƒå˜é‡
# å¤åˆ¶ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶å¹¶ç¼–è¾‘
cp .env.example .env
```

### ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ä»¥ä¸‹å˜é‡ï¼š

```env
# ç«å±±å¼•æ“ AI æœåŠ¡é…ç½®
VOLC_API_KEY=ä½ çš„ API å¯†é’¥
VOLC_SEEDREAM_ENDPOINT=ä½ çš„ç«¯ç‚¹ ID

# æœåŠ¡å™¨é…ç½®
PORT=3000
```

### å¯åŠ¨é¡¹ç›®

#### å¼€å‘æ¨¡å¼

é¡¹ç›®ä½¿ç”¨åŒæœåŠ¡å™¨æ¶æ„ï¼š

```bash
# 1. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆViteï¼Œå¸¦çƒ­é‡è½½ï¼‰
npm run dev
# è®¿é—®ï¼šhttp://localhost:5173
# åŠŸèƒ½ï¼šå‰ç«¯å¼€å‘ã€çƒ­æ›´æ–°ã€API ä»£ç†

# 2. å¯åŠ¨åç«¯ API æœåŠ¡å™¨ï¼ˆExpressï¼‰
npm start
# è®¿é—®ï¼šhttp://localhost:3000 (APIæœåŠ¡ä¿¡æ¯)
# åŠŸèƒ½ï¼šæä¾› API æœåŠ¡ã€å¤„ç†æ–‡ä»¶ä¸Šä¼ 
```

**å¼€å‘å»ºè®®**ï¼š
- å‰ç«¯å¼€å‘ä½¿ç”¨ Vite æœåŠ¡å™¨ï¼ˆ5173 ç«¯å£ï¼‰
- åç«¯ API æœåŠ¡è‡ªåŠ¨é€šè¿‡ Vite ä»£ç†è½¬å‘
- æ— éœ€æ‰‹åŠ¨è®¿é—® 3000 ç«¯å£ï¼Œé™¤ééœ€è¦ç›´æ¥æµ‹è¯• API

#### ç”Ÿäº§æ¨¡å¼

```bash
# 1. æ„å»ºå‰ç«¯ä»£ç 
npm run build

# 2. å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
# è®¿é—®ï¼šhttp://localhost:3000

# ä¸€é”®ç”Ÿäº§ï¼ˆæ„å»º + å¯åŠ¨ï¼‰
npm run prod
```

### æµ‹è¯•è´¦å·

ç³»ç»Ÿå†…ç½®æµ‹è¯•è´¦å·ï¼š
- **å­¦ç”Ÿè´¦å·**: 20250101 / 123456
- **æ•™å¸ˆè´¦å·**: 20250001 / 123456

## åŠŸèƒ½ä½¿ç”¨æŒ‡å—

### 1. ç”¨æˆ·è®¤è¯

- **ç™»å½•**: è¾“å…¥ç”¨æˆ·IDå’Œå¯†ç ï¼Œç‚¹å‡»ç™»å½•æŒ‰é’®æˆ–æŒ‰Enteré”®ç™»å½•
- **æ³¨å†Œ**: ç›®å‰ç³»ç»Ÿä½¿ç”¨é¢„è®¾è´¦å·ï¼Œå¦‚éœ€æ·»åŠ æ–°ç”¨æˆ·è¯·ä¿®æ”¹ `db.json` æ–‡ä»¶

### 2. AI è‰ºæœ¯åˆ›ä½œ

1. **è¿›å…¥åˆ›ä½œé¡µé¢**: ç‚¹å‡»å¯¼èˆªæ ä¸­çš„ "AI åˆ›ä½œ" æŒ‰é’®
2. **æ„å»ºæç¤ºè¯**:
   - **ä¸»ä½“**: è¾“å…¥ç”»é¢çš„ä¸»è¦å†…å®¹ï¼ˆå¦‚ï¼šçŒ«ã€äººç‰©ã€é£æ™¯ç­‰ï¼‰
   - **èƒŒæ™¯**: è¾“å…¥ç”»é¢çš„èƒŒæ™¯ç¯å¢ƒï¼ˆå¦‚ï¼šæ—¥è½æ²™æ»©ã€æ£®æ—ã€åŸå¸‚ç­‰ï¼‰
   - **é£æ ¼**: é€‰æ‹©è‰ºæœ¯é£æ ¼ï¼ˆå¦‚ï¼šæ²¹ç”»ã€æ°´å½©ã€å¡é€šç­‰ï¼‰
   - **è¡¥å……**: æ·»åŠ é¢å¤–çš„æè¿°ä¿¡æ¯
3. **é€‰æ‹©æ¯”ä¾‹**: é€‰æ‹©ç”Ÿæˆå›¾ç‰‡çš„å®½é«˜æ¯”ä¾‹ï¼ˆ1:1ã€16:9ã€9:16ï¼‰
4. **ç”Ÿæˆå›¾ç‰‡**: ç‚¹å‡» "ç”Ÿæˆå›¾ç‰‡" æŒ‰é’®ï¼Œç³»ç»Ÿä¼šè°ƒç”¨AIæœåŠ¡ç”Ÿæˆå›¾ç‰‡
5. **æ“ä½œç”Ÿæˆçš„å›¾ç‰‡**:
   - **é‡è¯•**: ä½¿ç”¨ç›¸åŒçš„æç¤ºè¯é‡æ–°ç”Ÿæˆå›¾ç‰‡
   - **ä¸‹è½½**: å°†ç”Ÿæˆçš„å›¾ç‰‡ä¸‹è½½åˆ°æœ¬åœ°ï¼Œæ–‡ä»¶åä¸ºæç¤ºè¯+æ—¶é—´æˆ³
   - **ä¸Šä¼ åˆ°ä½œå“åº“**: å°†ç”Ÿæˆçš„å›¾ç‰‡ä¿å­˜åˆ°ä¸ªäººä½œå“åº“

### 3. ä½œå“ä¸Šä¼ 

1. **è¿›å…¥ä¸Šä¼ é¡µé¢**: ç‚¹å‡»å¯¼èˆªæ ä¸­çš„ "ä¸Šä¼ ä½œå“" æŒ‰é’®
2. **é€‰æ‹©æ–‡ä»¶**: ç‚¹å‡» "é€‰æ‹©æ–‡ä»¶" æŒ‰é’®æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°ä¸Šä¼ åŒºåŸŸ
3. **å¡«å†™ä¿¡æ¯**:
   - **ä½œå“åç§°**: è¾“å…¥ä½œå“çš„åç§°
   - **ä½œå“ä»‹ç»**: è¾“å…¥ä½œå“çš„æè¿°ä¿¡æ¯
   - **ä½œå“ç±»å‹**: é€‰æ‹©ä½œå“çš„ç±»å‹
   - **æ˜¯å¦åœ¨ç”»å»Šå±•ç¤º**: é€‰æ‹©æ˜¯å¦å°†ä½œå“å±•ç¤ºåœ¨å…¬å…±ç”»å»Š
4. **æäº¤**: ç‚¹å‡» "æäº¤" æŒ‰é’®ä¸Šä¼ ä½œå“

### 4. ä¸ªäººä½œå“ç®¡ç†

1. **è¿›å…¥ä¸ªäººä¸­å¿ƒ**: ç‚¹å‡»å¯¼èˆªæ ä¸­çš„ "æˆ‘çš„ä½œå“" æŒ‰é’®
2. **æµè§ˆä½œå“**:
   - **å…¨éƒ¨ä½œå“**: æŸ¥çœ‹æ‰€æœ‰ä¸ªäººä½œå“
   - **å·²åœ¨ç”»å»Šå±•ç¤º**: æŸ¥çœ‹å·²å…¬å¼€çš„ä½œå“
   - **éšè—ä½œå“**: æŸ¥çœ‹æœªå…¬å¼€çš„ä½œå“
3. **ä½œå“æ“ä½œ**: å¯¹ä½œå“è¿›è¡Œç¼–è¾‘ã€åˆ é™¤ç­‰æ“ä½œ

### 5. å†å²è®°å½•ç®¡ç†

- **AI åˆ›ä½œå†å²**: åœ¨åˆ›ä½œé¡µé¢åº•éƒ¨æŸ¥çœ‹å†å²ç”Ÿæˆçš„ä½œå“
- **å†å²è®°å½•éš”ç¦»**: ç³»ç»Ÿåªæ˜¾ç¤ºå½“å‰ç™»å½•ç”¨æˆ·çš„å†å²ä½œå“
- **å†å²ä½œå“æ“ä½œ**: ç‚¹å‡»å†å²ä½œå“å¯é‡æ–°è¿›å…¥åˆ›ä½œåŒºåŸŸè¿›è¡Œç¼–è¾‘å’Œæ“ä½œ

## API æ–‡æ¡£

### ç”¨æˆ·è®¤è¯ API

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/auth/login` | POST | ç”¨æˆ·ç™»å½• |
| `/api/auth/register` | POST | ç”¨æˆ·æ³¨å†Œ |
| `/api/user/:userId` | GET | è·å–ç”¨æˆ·ä¿¡æ¯ |
| `/api/user/:userId` | PUT | æ›´æ–°ç”¨æˆ·ä¿¡æ¯ |

### ä½œå“ç®¡ç† API

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/gallery` | GET | è·å–æ‰€æœ‰ä½œå“ |
| `/api/works` | GET | è·å–æŒ‡å®šç”¨æˆ·çš„ä½œå“ï¼ˆéœ€ä¼ å…¥userIdå‚æ•°ï¼‰ |
| `/api/upload` | POST | ä¸Šä¼ ä½œå“ |
| `/api/artwork/:id` | GET | è·å–å•ä¸ªä½œå“ |
| `/api/artwork/:id` | PUT | æ›´æ–°ä½œå“ |
| `/api/artwork/:id` | DELETE | åˆ é™¤ä½œå“ |

### AI ç”Ÿæˆ API

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/ai/generate` | POST | ç”Ÿæˆ AI å›¾åƒ |
| `/api/ai/save-to-gallery` | POST | ä¿å­˜ AI ä½œå“åˆ°å›¾åº“ |

### å±•è§ˆç®¡ç† API

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/exhibitions` | GET | è·å–æ‰€æœ‰å±•è§ˆ |
| `/api/exhibition/:id` | GET | è·å–å•ä¸ªå±•è§ˆ |
| `/api/exhibition` | POST | åˆ›å»ºå±•è§ˆ |
| `/api/exhibition/:id` | PUT | æ›´æ–°å±•è§ˆ |
| `/api/exhibition/:id` | DELETE | åˆ é™¤å±•è§ˆ |
| `/api/exhibition/:id/publish` | POST | å‘å¸ƒå±•è§ˆ |
| `/api/exhibition/:id/artwork/:artworkId` | POST | æ·»åŠ ä½œå“åˆ°å±•è§ˆ |
| `/api/exhibition/:id/artwork/:artworkId` | DELETE | ä»å±•è§ˆç§»é™¤ä½œå“ |

### ç­çº§ç®¡ç† API

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/classes` | GET | è·å–ç­çº§åˆ—è¡¨ |
| `/api/class` | POST | åˆ›å»ºç­çº§ |
| `/api/class/:id` | PUT | æ›´æ–°ç­çº§ |
| `/api/class/:id` | DELETE | åˆ é™¤ç­çº§ |
| `/api/class/:id/students` | POST | æ·»åŠ å­¦ç”Ÿåˆ°ç­çº§ |
| `/api/class/:id/students/:studentId` | DELETE | ä»ç­çº§ç§»é™¤å­¦ç”Ÿ |

### è¯·æ±‚/å“åº”æ ¼å¼

**è¯·æ±‚ç¤ºä¾‹ï¼ˆç™»å½•ï¼‰**:
```json
{
  "userId": "20250101",
  "password": "123456"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "id": "20250101",
    "name": "æµ‹è¯•å­¦ç”Ÿ",
    "userType": "student",
    "joined": "2025-01-01T00:00:00.000Z",
    "uploads": []
  }
}
```

## ç”¨æˆ·æƒé™

ç³»ç»Ÿåˆ†ä¸ºä¸‰ç§ç”¨æˆ·è§’è‰²ï¼š

### å­¦ç”Ÿ (student)
- æ³¨å†Œå’Œç™»å½•
- æµè§ˆç”»å»Š
- ä¸Šä¼ ä½œå“
- AI è‰ºæœ¯åˆ›ä½œ
- ç®¡ç†è‡ªå·±çš„ä½œå“
- æŸ¥çœ‹ä¸ªäººä¸­å¿ƒ

### æ•™å¸ˆ (teacher)
- å­¦ç”Ÿæ‰€æœ‰æƒé™
- åˆ›å»ºå’Œç®¡ç†ç­çº§
- ç®¡ç†å­¦ç”Ÿä¿¡æ¯
- åˆ›å»ºå’Œç®¡ç†å±•è§ˆ
- å‘å±•è§ˆæ·»åŠ /ç§»é™¤ä½œå“

### ç®¡ç†å‘˜ (admin)
- æ•™å¸ˆæ‰€æœ‰æƒé™
- ç®¡ç†æ‰€æœ‰ç”¨æˆ·
- åˆ é™¤å­¦ç”Ÿå’Œç­çº§
- ç®¡ç†æ‰€æœ‰å±•è§ˆ
- æ— æƒé™é™åˆ¶

## æŠ€æœ¯å®ç°ç»†èŠ‚

### 1. å†å²è®°å½•éš”ç¦»

ç³»ç»Ÿé€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°å†å²è®°å½•éš”ç¦»ï¼š

- **å‰ç«¯**: ä½¿ç”¨ç”¨æˆ·IDä½œä¸ºæœ¬åœ°å­˜å‚¨çš„é”®åå‰ç¼€ï¼Œç¡®ä¿æ¯ä¸ªç”¨æˆ·åªè®¿é—®è‡ªå·±çš„å†å²è®°å½•
- **åç«¯**: å®ç° `/api/works` ç«¯ç‚¹ï¼Œæ ¹æ®ç”¨æˆ·IDè¿‡æ»¤ä½œå“

```javascript
// å‰ç«¯ç¤ºä¾‹ (create.js)
const historyKey = `history_${currentUser.id}`;
localStorage.setItem(historyKey, JSON.stringify(history));

// åç«¯ç¤ºä¾‹ (server.js)
app.get('/api/works', (req, res) => {
  const { userId } = req.query;
  const userWorks = works.filter(work => work.userId === userId);
  res.json({ success: true, data: userWorks });
});
```

### 2. å›¾ç‰‡ä¸‹è½½åŠŸèƒ½

ç³»ç»Ÿä½¿ç”¨Canvaså®ç°å›¾ç‰‡ä¸‹è½½ï¼Œè§£å†³CORSé—®é¢˜ï¼š

```javascript
function downloadImage(image, prompt) {
  const canvas = document.createElement('canvas');
  canvas.width = image.width;
  canvas.height = image.height;
  const ctx = canvas.getContext('2d');
  ctx.drawImage(image, 0, 0);
  
  const timestamp = new Date().toISOString().replace(/[-:\/T:.Z]/g, '').slice(0, 14);
  const safePrompt = prompt.length > 10 ? prompt.substring(0, 10) : prompt;
  const filename = `${safePrompt}_${timestamp}.png`;
  
  canvas.toBlob((blob) => {
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = filename;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
  });
}
```

### 3. Enteré”®ç™»å½•åŠŸèƒ½

ç³»ç»Ÿä¸ºç™»å½•è¡¨å•æ·»åŠ äº†é”®ç›˜äº‹ä»¶ç›‘å¬å™¨ï¼Œæ”¯æŒEnteré”®ç™»å½•ï¼š

```javascript
// ä¸ºç”¨æˆ·åå’Œå¯†ç è¾“å…¥æ¡†æ·»åŠ é”®ç›˜äº‹ä»¶ç›‘å¬å™¨
usernameInput.addEventListener('keypress', function(e) {
  if (e.key === 'Enter') {
    passwordInput.focus();
  }
});

passwordInput.addEventListener('keypress', function(e) {
  if (e.key === 'Enter') {
    login();
  }
});
```

### 4. ä½œå“åˆ†ç±»ç®¡ç†

ä¸ªäººä½œå“é¡µé¢å®ç°äº†ä¸‰ä¸ªåˆ†ç±»æ ‡ç­¾ï¼š

- **å…¨éƒ¨ä½œå“**: æ˜¾ç¤ºç”¨æˆ·çš„æ‰€æœ‰ä½œå“
- **å·²åœ¨ç”»å»Šå±•ç¤º**: åªæ˜¾ç¤º `isPublic: true` çš„ä½œå“
- **éšè—ä½œå“**: åªæ˜¾ç¤º `isPublic: false` çš„ä½œå“

## éƒ¨ç½²æŒ‡å—

### æœ¬åœ°éƒ¨ç½²

```bash
# å®‰è£…ä¾èµ–
npm install

# é…ç½® .env æ–‡ä»¶

# æ„å»ºå¹¶å¯åŠ¨
npm run prod
```

### Docker éƒ¨ç½²

```dockerfile
FROM node:20-alpine

WORKDIR /app

COPY package*.json ./
RUN npm install --production

COPY . .

EXPOSE 3000

CMD ["npm", "start"]
```

### Sealos éƒ¨ç½²

1. ç™»å½• [Sealos](https://cloud.sealos.io)
2. åˆ›å»ºæ–°åº”ç”¨
3. ä¸Šä¼ é¡¹ç›®ä»£ç 
4. é…ç½®ç¯å¢ƒå˜é‡
5. éƒ¨ç½²åº”ç”¨

## å¼€å‘æŒ‡å—

### ä»£ç ç»“æ„è¯´æ˜

å‰ç«¯é‡‡ç”¨æœåŠ¡å±‚æ¶æ„ï¼Œå°†ä¸šåŠ¡é€»è¾‘åˆ†ç¦»åˆ°ç‹¬ç«‹çš„æœåŠ¡æ¨¡å—ï¼š

```javascript
// ç¤ºä¾‹ï¼šä½¿ç”¨ galleryService
import galleryService from './services/galleryService.js';

const artworks = await galleryService.getAllArtworks();
const userWorks = await galleryService.getUserWorks(currentUser.id);
```

### API è°ƒç”¨

ä½¿ç”¨ç»Ÿä¸€çš„ apiClient è¿›è¡Œ API è°ƒç”¨ï¼š

```javascript
import apiClient from './utils/apiClient.js';

// GET è¯·æ±‚
const response = await apiClient.get('/api/works', { userId: currentUser.id });

// POST è¯·æ±‚
const response = await apiClient.post('/api/upload', formData);
```

### æ ·å¼å¼€å‘

é¡¹ç›®ä½¿ç”¨åŸç”Ÿ CSSï¼Œé‡‡ç”¨ CSS å˜é‡å®šä¹‰è®¾è®¡ç³»ç»Ÿï¼š

```css
:root {
  --primary-color: #6366f1;
  --secondary-color: #8b5cf6;
  --background: #0f0f0f;
  --text-color: #ffffff;
  /* ... */
}
```

## å¸¸è§é—®é¢˜

### 1. AI ç”ŸæˆåŠŸèƒ½ä¸èƒ½ç”¨ï¼Ÿ

æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­æ˜¯å¦æ­£ç¡®é…ç½®äº† `VOLC_API_KEY` å’Œ `VOLC_SEEDREAM_ENDPOINT`ã€‚

### 2. ä¸Šä¼ çš„å›¾ç‰‡æ— æ³•æ˜¾ç¤ºï¼Ÿ

æ£€æŸ¥ `public/uploads` ç›®å½•æ˜¯å¦æœ‰å†™å…¥æƒé™ã€‚

### 3. ç«¯å£è¢«å ç”¨ï¼Ÿ

ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„ `PORT` å˜é‡æˆ–è®¾ç½® `PORT` ç¯å¢ƒå˜é‡ã€‚

### 4. å†å²è®°å½•æ˜¾ç¤ºæ‰€æœ‰ç”¨æˆ·çš„ä½œå“ï¼Ÿ

ç³»ç»Ÿå·²å®ç°å†å²è®°å½•éš”ç¦»ï¼Œåªæ˜¾ç¤ºå½“å‰ç™»å½•ç”¨æˆ·çš„ä½œå“ã€‚å¦‚æœä»æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ä¸­çš„å†å²è®°å½•é”®åæ˜¯å¦åŒ…å«ç”¨æˆ·IDã€‚

### 5. ä¸‹è½½çš„æ–‡ä»¶åä¹±ç ï¼Ÿ

ç³»ç»Ÿä½¿ç”¨Canvaså®ç°å›¾ç‰‡ä¸‹è½½ï¼Œæ–‡ä»¶åä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå®‰å…¨çš„æ ¼å¼ï¼Œé¿å…ä¹±ç é—®é¢˜ã€‚

## è®¸å¯è¯

MIT License

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

**AI ArtStyle Lab** - è®© AI ä¸è‰ºæœ¯å®Œç¾èåˆ